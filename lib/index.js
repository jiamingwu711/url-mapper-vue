var r={d:(t,n)=>{for(var e in n)r.o(n,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},o:(r,t)=>Object.prototype.hasOwnProperty.call(r,t)},t={};function n(r){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n(r)}function e(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var e,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(r)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(e=a.call(n)).done)&&(c.push(e.value),c.length!==t);u=!0);}catch(r){l=!0,o=r}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(r,t)||o(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(r,t){if(r){if("string"==typeof r)return a(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(r,t):void 0}}function a(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function i(r){var t,n={},a=function(r,t){var n="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!n){if(Array.isArray(r)||(n=o(r))){n&&(r=n);var e=0,a=function(){};return{s:a,n:function(){return e>=r.length?{done:!0}:{done:!1,value:r[e++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(r)},n:function(){var r=n.next();return c=r.done,r},e:function(r){u=!0,i=r},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}(new URLSearchParams(r.split("?")[1]));try{for(a.s();!(t=a.n()).done;){var i=e(t.value,2),c=i[0],u=i[1];n[c]=u}}catch(r){a.e(r)}finally{a.f()}return n}function c(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return decodeURIComponent(r)===r||t>20?r:c(decodeURIComponent(r),++t)}function u(){var r="".concat(window.location.pathname).concat(window.location.hash);window.history.replaceState("","",r)}function l(r){var t=i(window.location.href),o=Object.assign({},t,r);Object.keys(o).forEach((function(r){if([null,void 0,""].includes(o[r])||Array.isArray(o[r])&&!o[r].length);else if(o[r]||!1===o[r]){var t=o[r];/^http/.test(o[r])&&(t=encodeURIComponent(o[r])),function(r){try{return"object"===n(r)&&(JSON.parse(JSON.stringify(r)),!0)}catch(r){return!1}}(t)&&!Array.isArray(t)&&(t=JSON.stringify(t)),"boolean"==typeof t&&(t=String(t)),o[r]=t}})),function(r){for(var t=new URL(window.location.href),n=0,o=Object.entries(r);n<o.length;n++){var a=e(o[n],2),i=a[0],c=a[1];c&&c.length?t.searchParams.set(i,c):t.searchParams.delete(i)}history.pushState({},"",t)}(o)}function f(r){var t=this,n=i(window.location.href);Object.keys(r).forEach((function(e){var o=n[e];if(void 0!==o){var a=r[e],i=a.path,u=a.type;"arrays|number"!==u.toLowerCase()&&(o=c(o));var l="",f=t;switch(u.toLowerCase()){case"number":o=Number(o);break;case"string":o=String(o);break;case"boolean":"true"===o?o=!0:"false"===o&&(o=!1);break;case"object":o=function(r){try{return r&&JSON.parse(r)}catch(r){return null}}(o);break;case"array|number":o=(o=o.split(",")).map((function(r){return Number(r)}));break;case"arrays|array|number":o=Array.isArray(o)?o.map((function(r){return r.split(",").map((function(r){return Number(r)}))})):[o.split(",").map((function(r){return Number(r)}))];break;case"array|string":o=(o=o.split(",")).map((function(r){return String(r)}));break;case"arrays|array|string":o=Array.isArray(o)?o.map((function(r){return r.split(",").map((function(r){return String(r)}))})):[o.split(",").map((function(r){return String(r)}))]}if(i){var s=i.split(".");l=s.pop(),s.forEach((function(r){f=t[r]}))}f[l]=o}}))}function s(r){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s(r)}function y(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function p(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.push.apply(n,e)}return n}function b(r,t,n){return(t=function(r){var t=function(r,t){if("object"!==s(r)||null===r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var e=n.call(r,"string");if("object"!==s(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"===s(t)?t:String(t)}(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function m(r,t,n){var e;return function(){var o=this,a=arguments,i=n&&!e;clearTimeout(e),e=setTimeout((function(){e=null,n||r.apply(o,a)}),t),i&&r.apply(o,a)}}r.d(t,{j:()=>O,z:()=>j});var v={},h={},d=m((function(r){f.call(r,function(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){b(r,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))}))}return r}({},v)),v={},h[r]&&r.$nextTick((function(){h[r].forEach((function(t){"function"==typeof r[t]&&r[t]()})),h[r]=[]}))}),100),g={},S=m((function(r){l.call(r,g),g={}}),100);const w={bind:function(r,t,n){var e,o=t.value,a=t.expression;if(o){var i=o.url,c=o.type,u=o.data,l=o.callback;if(o.data||(u=(e=a.matchAll(/value:\s*(.*?)(\}|,)/gi),function(r){if(Array.isArray(r))return y(r)}(e)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(e)||function(r,t){if(r){if("string"==typeof r)return y(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(r,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0][1]),!(i&&c&&u))throw Error("url data 配置出错，请检查");l&&(h[n.context]=h[n.context]||[],h[n.context].push(l)),Object.assign(v,b({},i,{path:u,type:c})),d(n.context)}},componentUpdated:function(r,t,n){var e=t.oldValue,o=t.value;if(o){var a=o.value;if(e.value!==a){var i=b({},o.url,a);Object.assign(g,i),S(n.context)}}}};var O={install:function(r){r.directive("url-map",w)}},j={install:function(r){r.prototype.$clearUrlParams=u,r.prototype.$setDataFromUrl=f,r.prototype.$setUrlParams=l}},A=t.j,P=t.z;export{A as UrlMapperDirective,P as UrlMapperPlugin};